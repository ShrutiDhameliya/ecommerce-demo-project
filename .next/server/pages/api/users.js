"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/users";
exports.ids = ["pages/api/users"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_users_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\users.js */ \"(api)/./pages/api/users.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/users\",\n        pathname: \"/api/users\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_users_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVzZXJzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUN1c2Vycy5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNtRDtBQUNuRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsZ0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGdEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Vjb21tZXJjZS1kZW1vLXByb2plY3QvP2RkNTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFx1c2Vycy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VzZXJzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdXNlcnNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/users.js":
/*!****************************!*\
  !*** ./pages/api/users.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst dataDirectory = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"data\");\nconst usersFile = path__WEBPACK_IMPORTED_MODULE_2___default().join(dataDirectory, \"users.json\");\n// Helper function to hash password\nconst hashPassword = (password)=>{\n    return crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash(\"sha256\").update(password).digest(\"hex\");\n};\n// Helper function to read data\nasync function readData(filePath) {\n    try {\n        const data = await fs__WEBPACK_IMPORTED_MODULE_1__.promises.readFile(filePath, \"utf8\");\n        return JSON.parse(data);\n    } catch (error) {\n        console.error(\"Error reading file:\", error);\n        return [];\n    }\n}\n// Helper function to write data\nasync function writeData(filePath, data) {\n    try {\n        await fs__WEBPACK_IMPORTED_MODULE_1__.promises.writeFile(filePath, JSON.stringify(data, null, 2));\n    } catch (error) {\n        console.error(\"Error writing file:\", error);\n        throw error;\n    }\n}\nasync function handler(req, res) {\n    const { method } = req;\n    try {\n        switch(method){\n            case \"GET\":\n                const users = await readData(usersFile);\n                // Remove password hashes from response\n                const sanitizedUsers = users.map(({ password, ...user })=>user);\n                res.status(200).json(sanitizedUsers);\n                break;\n            case \"POST\":\n                const { email, password, ...userData } = req.body;\n                // Validate required fields\n                if (!email || !password) {\n                    return res.status(400).json({\n                        error: \"Email and password are required\"\n                    });\n                }\n                // Check if user already exists\n                const currentUsers = await readData(usersFile);\n                if (currentUsers.some((user)=>user.email === email)) {\n                    return res.status(400).json({\n                        error: \"User with this email already exists\"\n                    });\n                }\n                // Hash password and create new user\n                const hashedPassword = hashPassword(password);\n                const newUser = {\n                    id: Date.now().toString(),\n                    email,\n                    password: hashedPassword,\n                    ...userData,\n                    createdAt: new Date().toISOString(),\n                    blocked: false\n                };\n                console.log(\"Creating new user:\", {\n                    ...newUser,\n                    password: \"[REDACTED]\"\n                }); // Debug log\n                await writeData(usersFile, [\n                    ...currentUsers,\n                    newUser\n                ]);\n                // Return user without password\n                const { password: _, ...userWithoutPassword } = newUser;\n                res.status(201).json(userWithoutPassword);\n                break;\n            case \"PUT\":\n                if (req.query.action === \"toggle-block\") {\n                    const { id } = req.query;\n                    const allUsers = await readData(usersFile);\n                    const userIndex = allUsers.findIndex((user)=>user.id === id);\n                    if (userIndex === -1) {\n                        return res.status(404).json({\n                            error: \"User not found\"\n                        });\n                    }\n                    const updatedUser = {\n                        ...allUsers[userIndex],\n                        blocked: !allUsers[userIndex].blocked,\n                        updatedAt: new Date().toISOString()\n                    };\n                    allUsers[userIndex] = updatedUser;\n                    await writeData(usersFile, allUsers);\n                    // Return user without password\n                    const { password: __, ...userWithoutPassword } = updatedUser;\n                    res.status(200).json(userWithoutPassword);\n                } else {\n                    const { id, password: newPassword, ...updateData } = req.body;\n                    const allUsers = await readData(usersFile);\n                    const userIndex = allUsers.findIndex((user)=>user.id === id);\n                    if (userIndex === -1) {\n                        return res.status(404).json({\n                            error: \"User not found\"\n                        });\n                    }\n                    const updatedUser = {\n                        ...allUsers[userIndex],\n                        ...updateData,\n                        updatedAt: new Date().toISOString()\n                    };\n                    // If password is being updated, hash it\n                    if (newPassword) {\n                        updatedUser.password = hashPassword(newPassword);\n                    }\n                    allUsers[userIndex] = updatedUser;\n                    await writeData(usersFile, allUsers);\n                    // Return user without password\n                    const { password: ___, ...userWithoutPassword } = updatedUser;\n                    res.status(200).json(userWithoutPassword);\n                }\n                break;\n            case \"DELETE\":\n                const { id: userId } = req.query;\n                const existingUsers = await readData(usersFile);\n                const filteredUsers = existingUsers.filter((user)=>user.id !== userId);\n                if (filteredUsers.length === existingUsers.length) {\n                    return res.status(404).json({\n                        error: \"User not found\"\n                    });\n                }\n                await writeData(usersFile, filteredUsers);\n                res.status(200).json({\n                    message: \"User deleted successfully\"\n                });\n                break;\n            default:\n                res.setHeader(\"Allow\", [\n                    \"GET\",\n                    \"POST\",\n                    \"PUT\",\n                    \"DELETE\"\n                ]);\n                res.status(405).end(`Method ${method} Not Allowed`);\n        }\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        res.status(500).json({\n            error: \"Internal Server Error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTztRQUF3QjtJQUN4RDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWNvbW1lcmNlLWRlbW8tcHJvamVjdC8uL3BhZ2VzL2FwaS91c2Vycy5qcz80OWY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcbmltcG9ydCB7IHByb21pc2VzIGFzIGZzIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmNvbnN0IGRhdGFEaXJlY3RvcnkgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2RhdGEnKTtcbmNvbnN0IHVzZXJzRmlsZSA9IHBhdGguam9pbihkYXRhRGlyZWN0b3J5LCAndXNlcnMuanNvbicpO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gaGFzaCBwYXNzd29yZFxuY29uc3QgaGFzaFBhc3N3b3JkID0gKHBhc3N3b3JkKSA9PiB7XG4gIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhMjU2JykudXBkYXRlKHBhc3N3b3JkKS5kaWdlc3QoJ2hleCcpO1xufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHJlYWQgZGF0YVxuYXN5bmMgZnVuY3Rpb24gcmVhZERhdGEoZmlsZVBhdGgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZnMucmVhZEZpbGUoZmlsZVBhdGgsICd1dGY4Jyk7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyBmaWxlOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHdyaXRlIGRhdGFcbmFzeW5jIGZ1bmN0aW9uIHdyaXRlRGF0YShmaWxlUGF0aCwgZGF0YSkge1xuICB0cnkge1xuICAgIGF3YWl0IGZzLndyaXRlRmlsZShmaWxlUGF0aCwgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMikpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHdyaXRpbmcgZmlsZTonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBjb25zdCB7IG1ldGhvZCB9ID0gcmVxO1xuXG4gIHRyeSB7XG4gICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgIGNhc2UgJ0dFVCc6XG4gICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgcmVhZERhdGEodXNlcnNGaWxlKTtcbiAgICAgICAgLy8gUmVtb3ZlIHBhc3N3b3JkIGhhc2hlcyBmcm9tIHJlc3BvbnNlXG4gICAgICAgIGNvbnN0IHNhbml0aXplZFVzZXJzID0gdXNlcnMubWFwKCh7IHBhc3N3b3JkLCAuLi51c2VyIH0pID0+IHVzZXIpO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihzYW5pdGl6ZWRVc2Vycyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdQT1NUJzpcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQsIC4uLnVzZXJEYXRhIH0gPSByZXEuYm9keTtcblxuICAgICAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgaWYgKCFlbWFpbCB8fCAhcGFzc3dvcmQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQnIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBjb25zdCBjdXJyZW50VXNlcnMgPSBhd2FpdCByZWFkRGF0YSh1c2Vyc0ZpbGUpO1xuICAgICAgICBpZiAoY3VycmVudFVzZXJzLnNvbWUodXNlciA9PiB1c2VyLmVtYWlsID09PSBlbWFpbCkpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ1VzZXIgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzJyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhc2ggcGFzc3dvcmQgYW5kIGNyZWF0ZSBuZXcgdXNlclxuICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGhhc2hQYXNzd29yZChwYXNzd29yZCk7XG4gICAgICAgIGNvbnN0IG5ld1VzZXIgPSB7XG4gICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXG4gICAgICAgICAgLi4udXNlckRhdGEsXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgYmxvY2tlZDogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIG5ldyB1c2VyOicsIHsgLi4ubmV3VXNlciwgcGFzc3dvcmQ6ICdbUkVEQUNURURdJyB9KTsgLy8gRGVidWcgbG9nXG5cbiAgICAgICAgYXdhaXQgd3JpdGVEYXRhKHVzZXJzRmlsZSwgWy4uLmN1cnJlbnRVc2VycywgbmV3VXNlcl0pO1xuICAgICAgICBcbiAgICAgICAgLy8gUmV0dXJuIHVzZXIgd2l0aG91dCBwYXNzd29yZFxuICAgICAgICBjb25zdCB7IHBhc3N3b3JkOiBfLCAuLi51c2VyV2l0aG91dFBhc3N3b3JkIH0gPSBuZXdVc2VyO1xuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih1c2VyV2l0aG91dFBhc3N3b3JkKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ1BVVCc6XG4gICAgICAgIGlmIChyZXEucXVlcnkuYWN0aW9uID09PSAndG9nZ2xlLWJsb2NrJykge1xuICAgICAgICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5xdWVyeTtcbiAgICAgICAgICBjb25zdCBhbGxVc2VycyA9IGF3YWl0IHJlYWREYXRhKHVzZXJzRmlsZSk7XG4gICAgICAgICAgY29uc3QgdXNlckluZGV4ID0gYWxsVXNlcnMuZmluZEluZGV4KHVzZXIgPT4gdXNlci5pZCA9PT0gaWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICh1c2VySW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB1cGRhdGVkVXNlciA9IHtcbiAgICAgICAgICAgIC4uLmFsbFVzZXJzW3VzZXJJbmRleF0sXG4gICAgICAgICAgICBibG9ja2VkOiAhYWxsVXNlcnNbdXNlckluZGV4XS5ibG9ja2VkLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICBhbGxVc2Vyc1t1c2VySW5kZXhdID0gdXBkYXRlZFVzZXI7XG4gICAgICAgICAgYXdhaXQgd3JpdGVEYXRhKHVzZXJzRmlsZSwgYWxsVXNlcnMpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJldHVybiB1c2VyIHdpdGhvdXQgcGFzc3dvcmRcbiAgICAgICAgICBjb25zdCB7IHBhc3N3b3JkOiBfXywgLi4udXNlcldpdGhvdXRQYXNzd29yZCB9ID0gdXBkYXRlZFVzZXI7XG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcldpdGhvdXRQYXNzd29yZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgeyBpZCwgcGFzc3dvcmQ6IG5ld1Bhc3N3b3JkLCAuLi51cGRhdGVEYXRhIH0gPSByZXEuYm9keTtcbiAgICAgICAgICBjb25zdCBhbGxVc2VycyA9IGF3YWl0IHJlYWREYXRhKHVzZXJzRmlsZSk7XG4gICAgICAgICAgY29uc3QgdXNlckluZGV4ID0gYWxsVXNlcnMuZmluZEluZGV4KHVzZXIgPT4gdXNlci5pZCA9PT0gaWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICh1c2VySW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB1cGRhdGVkVXNlciA9IHtcbiAgICAgICAgICAgIC4uLmFsbFVzZXJzW3VzZXJJbmRleF0sXG4gICAgICAgICAgICAuLi51cGRhdGVEYXRhLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIElmIHBhc3N3b3JkIGlzIGJlaW5nIHVwZGF0ZWQsIGhhc2ggaXRcbiAgICAgICAgICBpZiAobmV3UGFzc3dvcmQpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRVc2VyLnBhc3N3b3JkID0gaGFzaFBhc3N3b3JkKG5ld1Bhc3N3b3JkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgYWxsVXNlcnNbdXNlckluZGV4XSA9IHVwZGF0ZWRVc2VyO1xuICAgICAgICAgIGF3YWl0IHdyaXRlRGF0YSh1c2Vyc0ZpbGUsIGFsbFVzZXJzKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZXR1cm4gdXNlciB3aXRob3V0IHBhc3N3b3JkXG4gICAgICAgICAgY29uc3QgeyBwYXNzd29yZDogX19fLCAuLi51c2VyV2l0aG91dFBhc3N3b3JkIH0gPSB1cGRhdGVkVXNlcjtcbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c2VyV2l0aG91dFBhc3N3b3JkKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnREVMRVRFJzpcbiAgICAgICAgY29uc3QgeyBpZDogdXNlcklkIH0gPSByZXEucXVlcnk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVXNlcnMgPSBhd2FpdCByZWFkRGF0YSh1c2Vyc0ZpbGUpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFVzZXJzID0gZXhpc3RpbmdVc2Vycy5maWx0ZXIodXNlciA9PiB1c2VyLmlkICE9PSB1c2VySWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZpbHRlcmVkVXNlcnMubGVuZ3RoID09PSBleGlzdGluZ1VzZXJzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBhd2FpdCB3cml0ZURhdGEodXNlcnNGaWxlLCBmaWx0ZXJlZFVzZXJzKTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBkZWxldGVkIHN1Y2Nlc3NmdWxseScgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXMuc2V0SGVhZGVyKCdBbGxvdycsIFsnR0VUJywgJ1BPU1QnLCAnUFVUJywgJ0RFTEVURSddKTtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDUpLmVuZChgTWV0aG9kICR7bWV0aG9kfSBOb3QgQWxsb3dlZGApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBTZXJ2ZXIgRXJyb3InIH0pO1xuICB9XG59ICJdLCJuYW1lcyI6WyJjcnlwdG8iLCJwcm9taXNlcyIsImZzIiwicGF0aCIsImRhdGFEaXJlY3RvcnkiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsInVzZXJzRmlsZSIsImhhc2hQYXNzd29yZCIsInBhc3N3b3JkIiwiY3JlYXRlSGFzaCIsInVwZGF0ZSIsImRpZ2VzdCIsInJlYWREYXRhIiwiZmlsZVBhdGgiLCJkYXRhIiwicmVhZEZpbGUiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsImNvbnNvbGUiLCJ3cml0ZURhdGEiLCJ3cml0ZUZpbGUiLCJzdHJpbmdpZnkiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwidXNlcnMiLCJzYW5pdGl6ZWRVc2VycyIsIm1hcCIsInVzZXIiLCJzdGF0dXMiLCJqc29uIiwiZW1haWwiLCJ1c2VyRGF0YSIsImJvZHkiLCJjdXJyZW50VXNlcnMiLCJzb21lIiwiaGFzaGVkUGFzc3dvcmQiLCJuZXdVc2VyIiwiaWQiLCJEYXRlIiwibm93IiwidG9TdHJpbmciLCJjcmVhdGVkQXQiLCJ0b0lTT1N0cmluZyIsImJsb2NrZWQiLCJsb2ciLCJfIiwidXNlcldpdGhvdXRQYXNzd29yZCIsInF1ZXJ5IiwiYWN0aW9uIiwiYWxsVXNlcnMiLCJ1c2VySW5kZXgiLCJmaW5kSW5kZXgiLCJ1cGRhdGVkVXNlciIsInVwZGF0ZWRBdCIsIl9fIiwibmV3UGFzc3dvcmQiLCJ1cGRhdGVEYXRhIiwiX19fIiwidXNlcklkIiwiZXhpc3RpbmdVc2VycyIsImZpbHRlcmVkVXNlcnMiLCJmaWx0ZXIiLCJsZW5ndGgiLCJtZXNzYWdlIiwic2V0SGVhZGVyIiwiZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/users.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();