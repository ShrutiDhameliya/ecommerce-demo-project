"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/products";
exports.ids = ["pages/api/products"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts.js&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts.js&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_products_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\products.js */ \"(api)/./pages/api/products.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_products_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_products_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/products\",\n        pathname: \"/api/products\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_products_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnByb2R1Y3RzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNwcm9kdWN0cy5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNzRDtBQUN0RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsbURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLG1EQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Vjb21tZXJjZS1kZW1vLXByb2plY3QvP2RkMTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxwcm9kdWN0cy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Byb2R1Y3RzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHJvZHVjdHNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/products.js":
/*!*******************************!*\
  !*** ./pages/api/products.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst DATA_DIR = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\");\n// Helper function to read JSON file\nasync function readData(fileName) {\n    try {\n        const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(DATA_DIR, fileName);\n        console.log(\"Reading file from:\", filePath);\n        const data = await fs__WEBPACK_IMPORTED_MODULE_0__.promises.readFile(filePath, \"utf8\");\n        return JSON.parse(data);\n    } catch (error) {\n        console.error(`Error reading ${fileName}:`, error);\n        // Return empty array if file doesn't exist\n        return [];\n    }\n}\n// Helper function to write JSON file\nasync function writeData(fileName, data) {\n    try {\n        const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(DATA_DIR, fileName);\n        console.log(\"Writing file to:\", filePath);\n        await fs__WEBPACK_IMPORTED_MODULE_0__.promises.writeFile(filePath, JSON.stringify(data, null, 2), \"utf8\");\n    } catch (error) {\n        console.error(`Error writing ${fileName}:`, error);\n        throw error;\n    }\n}\nasync function handler(req, res) {\n    const { method, query } = req;\n    console.log(\"API Request:\", {\n        method,\n        query,\n        body: req.body\n    });\n    try {\n        switch(method){\n            case \"GET\":\n                console.log(\"Fetching products...\");\n                const data = await readData(\"products.json\");\n                console.log(\"Products data:\", data);\n                const products = Array.isArray(data) ? data : data.products || [];\n                res.status(200).json(products);\n                break;\n            case \"POST\":\n                console.log(\"Creating new product...\");\n                const existingData = await readData(\"products.json\");\n                const existingProducts = Array.isArray(existingData) ? existingData : data.products || [];\n                const newProduct = {\n                    id: Date.now().toString(),\n                    ...req.body,\n                    createdAt: new Date().toISOString()\n                };\n                existingProducts.push(newProduct);\n                await writeData(\"products.json\", existingProducts);\n                res.status(201).json(newProduct);\n                break;\n            case \"PUT\":\n                console.log(\"Updating product...\");\n                const { id } = query;\n                const updateData = await readData(\"products.json\");\n                const updateProducts = Array.isArray(updateData) ? updateData : data.products || [];\n                const index = updateProducts.findIndex((product)=>product.id === id);\n                if (index === -1) {\n                    return res.status(404).json({\n                        error: \"Product not found\"\n                    });\n                }\n                updateProducts[index] = {\n                    ...updateProducts[index],\n                    ...req.body\n                };\n                await writeData(\"products.json\", updateProducts);\n                res.status(200).json(updateProducts[index]);\n                break;\n            case \"DELETE\":\n                console.log(\"Deleting product...\");\n                const { id: deleteId } = query;\n                const deleteData = await readData(\"products.json\");\n                const deleteProducts = Array.isArray(deleteData) ? deleteData : data.products || [];\n                const deleteIndex = deleteProducts.findIndex((product)=>product.id === deleteId);\n                if (deleteIndex === -1) {\n                    return res.status(404).json({\n                        error: \"Product not found\"\n                    });\n                }\n                deleteProducts.splice(deleteIndex, 1);\n                await writeData(\"products.json\", deleteProducts);\n                res.status(200).json({\n                    message: \"Product deleted successfully\"\n                });\n                break;\n            default:\n                res.setHeader(\"Allow\", [\n                    \"GET\",\n                    \"POST\",\n                    \"PUT\",\n                    \"DELETE\"\n                ]);\n                res.status(405).end(`Method ${method} Not Allowed`);\n        }\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        res.status(500).json({\n            error: \"Internal Server Error\",\n            details: error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO1lBQUVkLE9BQU87WUFBeUJzQyxTQUFTdEMsTUFBTW1DLE9BQU87UUFBQztJQUNoRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWNvbW1lcmNlLWRlbW8tcHJvamVjdC8uL3BhZ2VzL2FwaS9wcm9kdWN0cy5qcz80OWNiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb21pc2VzIGFzIGZzIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmNvbnN0IERBVEFfRElSID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdkYXRhJyk7XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byByZWFkIEpTT04gZmlsZVxuYXN5bmMgZnVuY3Rpb24gcmVhZERhdGEoZmlsZU5hbWUpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihEQVRBX0RJUiwgZmlsZU5hbWUpO1xuICAgIGNvbnNvbGUubG9nKCdSZWFkaW5nIGZpbGUgZnJvbTonLCBmaWxlUGF0aCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IGZzLnJlYWRGaWxlKGZpbGVQYXRoLCAndXRmOCcpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHJlYWRpbmcgJHtmaWxlTmFtZX06YCwgZXJyb3IpO1xuICAgIC8vIFJldHVybiBlbXB0eSBhcnJheSBpZiBmaWxlIGRvZXNuJ3QgZXhpc3RcbiAgICByZXR1cm4gW107XG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHdyaXRlIEpTT04gZmlsZVxuYXN5bmMgZnVuY3Rpb24gd3JpdGVEYXRhKGZpbGVOYW1lLCBkYXRhKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oREFUQV9ESVIsIGZpbGVOYW1lKTtcbiAgICBjb25zb2xlLmxvZygnV3JpdGluZyBmaWxlIHRvOicsIGZpbGVQYXRoKTtcbiAgICBhd2FpdCBmcy53cml0ZUZpbGUoZmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpLCAndXRmOCcpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHdyaXRpbmcgJHtmaWxlTmFtZX06YCwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgY29uc3QgeyBtZXRob2QsIHF1ZXJ5IH0gPSByZXE7XG4gIGNvbnNvbGUubG9nKCdBUEkgUmVxdWVzdDonLCB7IG1ldGhvZCwgcXVlcnksIGJvZHk6IHJlcS5ib2R5IH0pO1xuXG4gIHRyeSB7XG4gICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgIGNhc2UgJ0dFVCc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBwcm9kdWN0cy4uLicpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVhZERhdGEoJ3Byb2R1Y3RzLmpzb24nKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1Byb2R1Y3RzIGRhdGE6JywgZGF0YSk7XG4gICAgICAgIGNvbnN0IHByb2R1Y3RzID0gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiAoZGF0YS5wcm9kdWN0cyB8fCBbXSk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHByb2R1Y3RzKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ1BPU1QnOlxuICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgbmV3IHByb2R1Y3QuLi4nKTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdEYXRhID0gYXdhaXQgcmVhZERhdGEoJ3Byb2R1Y3RzLmpzb24nKTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdQcm9kdWN0cyA9IEFycmF5LmlzQXJyYXkoZXhpc3RpbmdEYXRhKSA/IGV4aXN0aW5nRGF0YSA6IChkYXRhLnByb2R1Y3RzIHx8IFtdKTtcbiAgICAgICAgY29uc3QgbmV3UHJvZHVjdCA9IHtcbiAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgIC4uLnJlcS5ib2R5LFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9O1xuICAgICAgICBleGlzdGluZ1Byb2R1Y3RzLnB1c2gobmV3UHJvZHVjdCk7XG4gICAgICAgIGF3YWl0IHdyaXRlRGF0YSgncHJvZHVjdHMuanNvbicsIGV4aXN0aW5nUHJvZHVjdHMpO1xuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbihuZXdQcm9kdWN0KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ1BVVCc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGluZyBwcm9kdWN0Li4uJyk7XG4gICAgICAgIGNvbnN0IHsgaWQgfSA9IHF1ZXJ5O1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0gYXdhaXQgcmVhZERhdGEoJ3Byb2R1Y3RzLmpzb24nKTtcbiAgICAgICAgY29uc3QgdXBkYXRlUHJvZHVjdHMgPSBBcnJheS5pc0FycmF5KHVwZGF0ZURhdGEpID8gdXBkYXRlRGF0YSA6IChkYXRhLnByb2R1Y3RzIHx8IFtdKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB1cGRhdGVQcm9kdWN0cy5maW5kSW5kZXgocHJvZHVjdCA9PiBwcm9kdWN0LmlkID09PSBpZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdQcm9kdWN0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHVwZGF0ZVByb2R1Y3RzW2luZGV4XSA9IHsgLi4udXBkYXRlUHJvZHVjdHNbaW5kZXhdLCAuLi5yZXEuYm9keSB9O1xuICAgICAgICBhd2FpdCB3cml0ZURhdGEoJ3Byb2R1Y3RzLmpzb24nLCB1cGRhdGVQcm9kdWN0cyk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVwZGF0ZVByb2R1Y3RzW2luZGV4XSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdERUxFVEUnOlxuICAgICAgICBjb25zb2xlLmxvZygnRGVsZXRpbmcgcHJvZHVjdC4uLicpO1xuICAgICAgICBjb25zdCB7IGlkOiBkZWxldGVJZCB9ID0gcXVlcnk7XG4gICAgICAgIGNvbnN0IGRlbGV0ZURhdGEgPSBhd2FpdCByZWFkRGF0YSgncHJvZHVjdHMuanNvbicpO1xuICAgICAgICBjb25zdCBkZWxldGVQcm9kdWN0cyA9IEFycmF5LmlzQXJyYXkoZGVsZXRlRGF0YSkgPyBkZWxldGVEYXRhIDogKGRhdGEucHJvZHVjdHMgfHwgW10pO1xuICAgICAgICBjb25zdCBkZWxldGVJbmRleCA9IGRlbGV0ZVByb2R1Y3RzLmZpbmRJbmRleChwcm9kdWN0ID0+IHByb2R1Y3QuaWQgPT09IGRlbGV0ZUlkKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChkZWxldGVJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ1Byb2R1Y3Qgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZGVsZXRlUHJvZHVjdHMuc3BsaWNlKGRlbGV0ZUluZGV4LCAxKTtcbiAgICAgICAgYXdhaXQgd3JpdGVEYXRhKCdwcm9kdWN0cy5qc29uJywgZGVsZXRlUHJvZHVjdHMpO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdQcm9kdWN0IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnLCAnUE9TVCcsICdQVVQnLCAnREVMRVRFJ10pO1xuICAgICAgICByZXMuc3RhdHVzKDQwNSkuZW5kKGBNZXRob2QgJHttZXRob2R9IE5vdCBBbGxvd2VkYCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIFNlcnZlciBFcnJvcicsIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UgfSk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbInByb21pc2VzIiwiZnMiLCJwYXRoIiwiREFUQV9ESVIiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsInJlYWREYXRhIiwiZmlsZU5hbWUiLCJmaWxlUGF0aCIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwicmVhZEZpbGUiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsIndyaXRlRGF0YSIsIndyaXRlRmlsZSIsInN0cmluZ2lmeSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJxdWVyeSIsImJvZHkiLCJwcm9kdWN0cyIsIkFycmF5IiwiaXNBcnJheSIsInN0YXR1cyIsImpzb24iLCJleGlzdGluZ0RhdGEiLCJleGlzdGluZ1Byb2R1Y3RzIiwibmV3UHJvZHVjdCIsImlkIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwiY3JlYXRlZEF0IiwidG9JU09TdHJpbmciLCJwdXNoIiwidXBkYXRlRGF0YSIsInVwZGF0ZVByb2R1Y3RzIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJwcm9kdWN0IiwiZGVsZXRlSWQiLCJkZWxldGVEYXRhIiwiZGVsZXRlUHJvZHVjdHMiLCJkZWxldGVJbmRleCIsInNwbGljZSIsIm1lc3NhZ2UiLCJzZXRIZWFkZXIiLCJlbmQiLCJkZXRhaWxzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/products.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();